# Story 0.1: SKEL-REPO-001 - Repository Initialization and Initial Commit

## Status
Draft

## Story
**As a** developer,
**I want** the project repository initialized with base structure and tooling,
**so that** we have a proper foundation for all subsequent development work.

## Acceptance Criteria

1. Git repository initialized with `git init`
2. Base monorepo structure created (apps/, packages/, docs/)
3. Package.json files created for workspace root and each app
4. Initial configuration files: tsconfig.json, .gitignore, .env.example
5. README.md with project overview and setup instructions
6. Initial commit with message: "chore: initial project setup"
7. Empty directories for future development (supabase/migrations/, .github/workflows/)

## Tasks / Subtasks

- [ ] Task 1: Initialize Git Repository (AC: 1, 6)
  - [ ] Run `git init` in project root
  - [ ] Create initial commit with message: "chore: initial project setup"
  
- [ ] Task 2: Create Base Monorepo Directory Structure (AC: 2, 7)
  - [ ] Create `apps/web/` directory
  - [ ] Create `apps/api/` directory
  - [ ] Create `packages/shared/` directory
  - [ ] Create `packages/config/` directory
  - [ ] Create `docs/` directory
  - [ ] Create `scripts/` directory
  - [ ] Create `.github/workflows/` directory
  - [ ] Create `supabase/migrations/` directory
  - [ ] Create `.vscode/` directory

- [ ] Task 3: Create Root Package.json with Workspaces Configuration (AC: 3)
  - [ ] Create root `package.json` with name "cf-office-hours"
  - [ ] Configure npm workspaces: ["apps/*", "packages/*"]
  - [ ] Add development dependencies: TypeScript 5.7.x, ESLint 8.57.x, Prettier 3.x
  - [ ] Add workspace scripts: setup, dev, build, test, lint, format, type-check, clean
  - [ ] Set engines: node >=20.0.0, npm >=10.0.0

- [ ] Task 4: Create App Package.json Files (AC: 3)
  - [ ] Create `apps/web/package.json` with name "@cf-office-hours/web"
  - [ ] Add web dependencies: React 18.3.x, Vite 5.x, Shadcn/ui, Zustand 5.x, React Hook Form 7.52.x
  - [ ] Add web dev dependencies: Vitest 3.x, Playwright 1.50.x+, Testing Library
  - [ ] Configure web scripts: dev (vite), build, test, test:e2e
  - [ ] Create `apps/api/package.json` with name "@cf-office-hours/api"
  - [ ] Add api dependencies: Hono 4.x, @hono/zod-openapi, Zod 3.23.x, @supabase/supabase-js
  - [ ] Add api dev dependencies: Wrangler 3.x, Vitest 3.x, @cloudflare/workers-types
  - [ ] Configure api scripts: dev (wrangler dev), build, deploy, test, tail

- [ ] Task 5: Create Shared Packages Configuration (AC: 3)
  - [ ] Create `packages/shared/package.json` with name "@cf-office-hours/shared"
  - [ ] Configure exports for types, schemas, constants, utils
  - [ ] Create `packages/config/package.json` with name "@cf-office-hours/config"
  - [ ] Set up config package files array: ["eslint", "typescript"]

- [ ] Task 6: Create TypeScript Configuration Files (AC: 4)
  - [ ] Create root `tsconfig.json` with base compiler options
  - [ ] Create `packages/config/typescript/tsconfig.base.json` with strict mode enabled
  - [ ] Create `apps/web/tsconfig.json` extending base config with DOM libs and JSX
  - [ ] Create `apps/api/tsconfig.json` extending base config with Workers types
  - [ ] Create `packages/shared/tsconfig.json` with composite: true for project references

- [ ] Task 7: Create ESLint Configuration Files (AC: 4)
  - [ ] Create `packages/config/eslint/base.js` with TypeScript rules
  - [ ] Create `apps/web/.eslintrc.cjs` extending base config with React rules
  - [ ] Create `apps/api/.eslintrc.cjs` extending base config with Node rules

- [ ] Task 8: Create Code Quality Configuration Files (AC: 4)
  - [ ] Create `.gitignore` with node_modules, dist, .wrangler, .env, logs, OS files
  - [ ] Create `.prettierrc` with formatting rules (semi: true, singleQuote: true, printWidth: 100)
  - [ ] Create `.prettierignore` for generated files
  - [ ] Create `.editorconfig` with charset, line endings, indent settings
  - [ ] Create `.npmrc` for npm configuration

- [ ] Task 9: Create Environment Variable Templates (AC: 4)
  - [ ] Create `apps/web/.env.example` with VITE_API_BASE_URL, VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY
  - [ ] Create `apps/api/.env.example` with SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, JWT_SECRET

- [ ] Task 10: Create VS Code Configuration Files (AC: 4)
  - [ ] Create `.vscode/settings.json` with Prettier and ESLint integration
  - [ ] Create `.vscode/extensions.json` with recommended extensions
  - [ ] Create `.vscode/launch.json` with debug configurations

- [ ] Task 11: Create Documentation Files (AC: 5)
  - [ ] Create root `README.md` with project overview, quick start, tech stack, links to docs
  - [ ] Include setup instructions: npm run setup, npm run dev
  - [ ] Document project structure
  - [ ] Add license placeholder

- [ ] Task 12: Create Utility Scripts (AC: 3)
  - [ ] Create `scripts/setup-dev.ts` for environment file copying and dependency installation
  - [ ] Create `scripts/generate-api-types.ts` placeholder for OpenAPI type generation

- [ ] Task 13: Verify Complete Structure
  - [ ] Confirm all directories from Section 9.1 are created
  - [ ] Verify all package.json files have correct workspace references
  - [ ] Confirm all configuration files are in place

## Dev Notes

### Project Structure Reference

The complete monorepo structure being created follows Section 9.1 of the architecture document. The key structure is:

```
cf-office-hours/
├── .github/workflows/        # CI/CD pipelines (empty for now)
├── .vscode/                  # VS Code configuration
├── apps/
│   ├── web/                  # React frontend (Cloudflare Pages)
│   └── api/                  # Cloudflare Workers API
├── packages/
│   ├── shared/               # Shared types, schemas, utilities
│   └── config/               # Shared configuration (eslint, typescript)
├── docs/                     # Documentation
├── scripts/                  # Build and utility scripts
├── supabase/migrations/      # Database migrations (empty for now)
└── [config files at root]
```

[Source: docs/architecture/9-unified-project-structure.md#9.1]

### Technology Versions

All package versions must match the technology stack defined in Section 3.1:

**Frontend:**
- TypeScript: 5.7.x
- React: 18.3.x (latest 18.x)
- Vite: 5.x (latest 5.x)
- Tailwind CSS: 3.4.x
- Zustand: 5.x
- React Hook Form: 7.52.x
- Zod: 3.23.x

**Backend:**
- TypeScript: 5.7.x
- Hono: 4.x (latest 4.x)
- @hono/zod-openapi: Latest 1.x
- @supabase/supabase-js: Latest
- Zod: 3.23.x

**Testing:**
- Vitest: 3.x (latest)
- Playwright: 1.50.x+ (latest)
- Testing Library: Latest

**Development:**
- ESLint: 8.57.x (stay on 8.x, not 9.x)
- Prettier: 3.x (latest)
- Wrangler: Latest 3.x
- Node.js: >=20.0.0
- npm: >=10.0.0

[Source: docs/architecture/3-tech-stack.md#3.1]

### Package.json Configurations

**Root Package.json Structure:**
- Must include workspaces array: ["apps/*", "packages/*"]
- All workspace scripts must use --workspaces or --workspace flags
- devDependencies only (no runtime dependencies at root)
- Must specify engines for Node.js >=20.0.0 and npm >=10.0.0

[Source: docs/architecture/9-unified-project-structure.md#9.2]

**Workspace Package Naming:**
- Use scoped package names: @cf-office-hours/[package-name]
- All workspace packages must be private: true
- All packages must use "type": "module" for ESM support

[Source: docs/architecture/9-unified-project-structure.md#9.3]

### TypeScript Configuration Strategy

**Project References:**
- Root tsconfig.json extends to all workspace packages
- Base config in packages/config/typescript/tsconfig.base.json
- Apps reference shared package using TypeScript project references
- Shared package must have composite: true for references

**Compiler Options:**
- Target: ES2022 for backend, ES2020 for frontend
- Module: ESNext
- ModuleResolution: bundler
- Strict mode enabled across all packages
- All strict flags enabled (strictNullChecks, noImplicitThis, etc.)

[Source: docs/architecture/9-unified-project-structure.md#9.4]

### ESLint Configuration Strategy

**Base Configuration:**
- Shared base config in packages/config/eslint/base.js
- Uses @typescript-eslint parser and plugin
- Frontend extends base with React rules
- Backend extends base with Node rules
- Must stay on ESLint 8.57.x (ESLint 9 has breaking changes)

[Source: docs/architecture/9-unified-project-structure.md#9.5]

### Git Workflow Configuration

**Initial Commit Message:**
Must follow conventional commits format: `chore: initial project setup`

This follows the git commit standards where "chore" is used for maintenance tasks.

[Source: docs/architecture/10-development-workflow.md#10.1.0]

### Environment Variable Templates

**Frontend Environment Variables:**
- VITE_API_BASE_URL: http://localhost:8787/v1 (local development)
- VITE_SUPABASE_URL: Placeholder for Supabase project URL
- VITE_SUPABASE_ANON_KEY: Placeholder for Supabase anon key
- All Vite env vars must start with VITE_ prefix

**Backend Environment Variables:**
- SUPABASE_URL: Supabase project URL
- SUPABASE_SERVICE_ROLE_KEY: Service role key for backend operations
- SUPABASE_JWT_SECRET: JWT secret for token verification
- NODE_ENV: development

[Source: docs/architecture/9-unified-project-structure.md#9.8]

### VS Code Configuration

**Settings:**
- Prettier as default formatter
- Format on save enabled
- ESLint auto-fix on save
- TypeScript workspace SDK
- File and search excludes for node_modules, dist, .wrangler

**Extensions:**
- ESLint
- Prettier
- Tailwind CSS IntelliSense
- Playwright Test for VS Code
- Cloudflare Workers
- Supabase

[Source: docs/architecture/9-unified-project-structure.md#9.9]

### README.md Content Requirements

The README must include:
- Project title and description
- Quick Start section with npm run setup and npm run dev
- Links to documentation (PRD, Architecture, User Guide, Coordinator Manual)
- Tech Stack overview
- License placeholder

[Source: docs/architecture/10-development-workflow.md#10.1.0]

### Directory Structure Notes

**Empty Directories:**
- supabase/migrations/ - Will be populated in SKEL-DB-001
- .github/workflows/ - CI/CD pipelines added in later stories
- These directories must be created now to establish the complete structure

**Source Directories:**
- apps/web/src/, apps/web/public/ - Created in this story but remain empty
- apps/api/src/ - Created in this story but remains empty
- packages/shared/src/ with subdirectories (types/, schemas/, constants/, utils/)

[Source: docs/architecture/9-unified-project-structure.md#9.1]

### Important Implementation Notes

1. **No Source Code:** This story creates structure and configuration only. No actual application code (.ts, .tsx files) should be implemented.

2. **Idempotent Setup:** The structure created should allow the setup-dev.ts script to be run multiple times safely.

3. **Workspace Dependencies:** Shared package references in apps use "*" for local workspace version.

4. **Version Alignment:** All shared dependencies (TypeScript, Zod) must use the same version across all packages.

5. **Configuration Inheritance:** Apps extend base configurations rather than duplicating settings.

### Testing

Since this is a repository initialization story with no application code, testing focuses on structure validation:

**Structure Tests:**
- Verify all required directories exist
- Confirm all package.json files are valid JSON
- Validate TypeScript configuration compiles without errors
- Ensure ESLint configuration loads without errors

**Setup Script Tests:**
- Run `npm run setup` and verify it completes without errors
- Confirm .env files are created from .env.example templates
- Verify `npm install` completes successfully for all workspaces

**Configuration Tests:**
- Run `npm run type-check` and confirm no errors
- Run `npm run lint` and confirm configuration is valid
- Run `npm run format:check` and confirm Prettier configuration works

**No Unit Tests Required:** This story has no business logic to test.

[Source: Testing approach derived from project setup validation practices]

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-02 | 1.0 | Initial story creation | SM Agent (Bob) |

## Dev Agent Record

### Agent Model Used
_To be populated by dev agent_

### Debug Log References
_To be populated by dev agent_

### Completion Notes List
_To be populated by dev agent_

### File List
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_

